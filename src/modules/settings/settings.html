<form name="settingsCtrl.myForm">
	<fieldset>
		<legend>Upload on form submit</legend>
		<br>Photo:
		<input  type="file"
				ngf-select
				ng-model="settingsCtrl.picFile"
				name="file"    
				accept="image/*"
				ngf-max-size="2MB"
				required
				ngf-model-invalid="settingsCtrl.errorFile">
		<i ng-show="settingsCtrl.myForm.file.$error.required">
			*required
		</i>
		<br>
		<i ng-show="settingsCtrl.myForm.file.$error.maxSize">
			File too large 
			{{errorFile.size / 1000000|number:1}}MB: max 2M
		</i>
		<img ng-show="settingsCtrl.myForm.file.$valid"
			 ngf-thumbnail="settingsCtrl.picFile"
			 class="thumb">
		<button ng-click="settingsCtrl.picFile = null"
				ng-show="settingsCtrl.picFile">
			Remove
		</button>
		<br>
		<button ng-disabled="!settingsCtrl.myForm.$valid"
				ng-click="settingsCtrl.uploadPic(settingsCtrl.picFile)">
			Submit
		</button>
		<span ng-show="settingsCtrl.picFile.result">Upload Successful</span>
		<span class="err"
			  ng-show="settingsCtrl.errorMsg">
			{{errorMsg}}
		</span>
	</fieldset>
	<br>
</form>

<md-button class="md-raised md-primary"
    ng-click="settingsCtrl.loadSavedStories()">
    Load stories
</md-button>

<div ng-repeat="story in settingsCtrl.savedStories">{{story}}</div>